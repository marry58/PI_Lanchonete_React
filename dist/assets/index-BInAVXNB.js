const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-CiC-oYut.js","assets/vendor-WvxInmkI.js","assets/supabase-DuVauSO6.js","assets/tabs-akv-j3gh.js","assets/radix-BvlS9Eci.js","assets/react-query-D1LWqImO.js","assets/Login-DM1ykffw.js","assets/logoprincipal-CGgvGNiW.js","assets/Cadastro-K9wXTl3s.js","assets/Carrinho-hx93FrfS.js","assets/Perfil-Bp7q9e6M.js","assets/dialog-VvVZCG6g.js","assets/Admin-D7zpIyKR.js","assets/select-BKYq4roj.js","assets/charts-C4CIzXnO.js","assets/AdminMaster-NwasILzr.js","assets/NotFound-CukU8huB.js","assets/Lanchonete-VOahB3DW.js","assets/SelecaoLanchonete-B34B1__K.js"])))=>i.map(i=>d[i]);
import{r,aw as ke,h as Le,ad as e,ax as ze,ay as M,az as qe,aA as Ve,aB as L,aC as C,aD as I,aE as Me,aF as Fe,aG as $e,aH as Be,aI as Je,aJ as Qe,aK as Ue,aL as K,aM as He,aN as Xe,aO as Ye,aP as Ge,aQ as w,aR as Ke}from"./vendor-WvxInmkI.js";import{V as se,R as ae,A as re,C as oe,T as ne,D as ie,P as Ze,a as de,b as We,S as et,O as ce,c as le,d as ue,e as me,f as fe,g as pe,h as tt,i as st,j as xe,k as ge,I as he,l as at}from"./radix-BvlS9Eci.js";import{Q as rt,a as ot}from"./react-query-D1LWqImO.js";import{b as nt}from"./supabase-DuVauSO6.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(n){if(n.ep)return;n.ep=!0;const d=t(n);fetch(n.href,d)}})();const it="modulepreload",dt=function(s){return"/"+s},Z={},_=function(a,t,o){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.allSettled(t.map(m=>{if(m=dt(m),m in Z)return;Z[m]=!0;const y=m.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":it,y||(x.as="script"),x.crossOrigin="",x.href=m,u&&x.setAttribute("nonce",u),document.head.appendChild(x),y)return new Promise((j,i)=>{x.addEventListener("load",j),x.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${m}`)))})}))}function d(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return n.then(c=>{for(const u of c||[])u.status==="rejected"&&d(u.reason);return a().catch(d)})},ct=1,lt=1e6;let F=0;function ut(){return F=(F+1)%Number.MAX_SAFE_INTEGER,F.toString()}const $=new Map,W=s=>{if($.has(s))return;const a=setTimeout(()=>{$.delete(s),k({type:"REMOVE_TOAST",toastId:s})},lt);$.set(s,a)},mt=(s,a)=>{switch(a.type){case"ADD_TOAST":return{...s,toasts:[a.toast,...s.toasts].slice(0,ct)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(t=>t.id===a.toast.id?{...t,...a.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=a;return t?W(t):s.toasts.forEach(o=>{W(o.id)}),{...s,toasts:s.toasts.map(o=>o.id===t||t===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return a.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(t=>t.id!==a.toastId)}}},q=[];let V={toasts:[]};function k(s){V=mt(V,s),q.forEach(a=>{a(V)})}function ft({...s}){const a=ut(),t=n=>k({type:"UPDATE_TOAST",toast:{...n,id:a}}),o=()=>k({type:"DISMISS_TOAST",toastId:a});return k({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:n=>{n||o()}}}),{id:a,dismiss:o,update:t}}function pt(){const[s,a]=r.useState(V);return r.useEffect(()=>(q.push(a),()=>{const t=q.indexOf(a);t>-1&&q.splice(t,1)}),[s]),{...s,toast:ft,dismiss:t=>k({type:"DISMISS_TOAST",toastId:t})}}function l(...s){return ke(Le(s))}const xt=Ze,ye=r.forwardRef(({className:s,...a},t)=>e.jsx(se,{ref:t,className:l("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...a}));ye.displayName=se.displayName;const gt=M("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ve=r.forwardRef(({className:s,variant:a,...t},o)=>e.jsx(ae,{ref:o,className:l(gt({variant:a}),s),...t}));ve.displayName=ae.displayName;const ht=r.forwardRef(({className:s,...a},t)=>e.jsx(re,{ref:t,className:l("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",s),...a}));ht.displayName=re.displayName;const je=r.forwardRef(({className:s,...a},t)=>e.jsx(oe,{ref:t,className:l("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...a,children:e.jsx(ze,{className:"h-4 w-4"})}));je.displayName=oe.displayName;const be=r.forwardRef(({className:s,...a},t)=>e.jsx(ne,{ref:t,className:l("text-sm font-semibold",s),...a}));be.displayName=ne.displayName;const Ne=r.forwardRef(({className:s,...a},t)=>e.jsx(ie,{ref:t,className:l("text-sm opacity-90",s),...a}));Ne.displayName=ie.displayName;function yt(){const{toasts:s}=pt();return e.jsxs(xt,{children:[s.map(function({id:a,title:t,description:o,action:n,...d}){return e.jsxs(ve,{...d,children:[e.jsxs("div",{className:"grid gap-1",children:[t&&e.jsx(be,{children:t}),o&&e.jsx(Ne,{children:o})]}),n,e.jsx(je,{})]},a)}),e.jsx(ye,{})]})}const vt=({...s})=>{const{theme:a="system"}=qe();return e.jsx(Ve,{theme:a,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})},jt=We,bt=r.forwardRef(({className:s,sideOffset:a=4,...t},o)=>e.jsx(de,{ref:o,sideOffset:a,className:l("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));bt.displayName=de.displayName;const Nt="https://jjcbtuoikfhxnkitnmtm.supabase.co",wt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqY2J0dW9pa2ZoeG5raXRubXRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNTI4MzAsImV4cCI6MjA3ODkyODgzMH0.iD_A5ACxlXCRM42pvZENoKwkUQwQZbTYkPvM8qwn8e4",E=nt(Nt,wt),we=r.createContext(void 0);function _t({children:s}){const[a,t]=r.useState(null),[o,n]=r.useState(!0);r.useEffect(()=>{let c=!0;(async()=>{var g;const{data:y}=await E.auth.getSession();c&&(t(((g=y.session)==null?void 0:g.user)||null),n(!1))})();const{data:m}=E.auth.onAuthStateChange((y,g)=>{t((g==null?void 0:g.user)||null)});return()=>{c=!1,m.subscription.unsubscribe()}},[]);const d=async()=>{await E.auth.signOut(),t(null)};return e.jsx(we.Provider,{value:{user:a,loading:o,signOut:d},children:s})}function z(){const s=r.useContext(we);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const O=({children:s})=>{const a=L(),{user:t,loading:o}=z();return r.useEffect(()=>{!o&&!t&&(C.error("Faça login para continuar."),a("/login"))},[t,o,a]),o||!t?null:s},Ct=({children:s})=>{var c,u,m;const a=L(),{user:t,loading:o}=z();return r.useEffect(()=>{var x,j,i;if(o)return;if(!t){C.error("Faça login para continuar."),a("/login");return}(((x=t==null?void 0:t.app_metadata)==null?void 0:x.roles)||[]).includes("admin")||((j=t==null?void 0:t.user_metadata)==null?void 0:j.role)==="admin"||((i=t==null?void 0:t.app_metadata)==null?void 0:i.role)==="admin"||(C.error("Acesso restrito ao administrador."),a("/"))},[t,o,a]),o||!((((c=t==null?void 0:t.app_metadata)==null?void 0:c.roles)||[]).includes("admin")||((u=t==null?void 0:t.user_metadata)==null?void 0:u.role)==="admin"||((m=t==null?void 0:t.app_metadata)==null?void 0:m.role)==="admin")?null:s},At=({children:s})=>{var c,u,m;const a=L(),{user:t,loading:o}=z();return r.useEffect(()=>{var x,j,i;if(o)return;if(!t){C.error("Faça login para continuar."),a("/login");return}(((x=t==null?void 0:t.app_metadata)==null?void 0:x.roles)||[]).includes("master_admin")||((j=t==null?void 0:t.user_metadata)==null?void 0:j.role)==="master_admin"||((i=t==null?void 0:t.app_metadata)==null?void 0:i.role)==="master_admin"||(C.error("Acesso restrito ao administrador master."),a("/"))},[t,o,a]),o||!((((c=t==null?void 0:t.app_metadata)==null?void 0:c.roles)||[]).includes("master_admin")||((u=t==null?void 0:t.user_metadata)==null?void 0:u.role)==="master_admin"||((m=t==null?void 0:t.app_metadata)==null?void 0:m.role)==="master_admin")?null:s},_e=r.createContext(null),H="cart-items-by-lanchonete",Et="default",ee="lanchonete_change",te=()=>typeof window>"u"?null:window.localStorage.getItem("lanchonete_selecionada"),St=()=>{if(typeof window>"u")return{};try{const s=window.localStorage.getItem(H);if(!s)return{};const a=JSON.parse(s);return typeof a=="object"&&a!==null?a:{}}catch{return{}}},It=s=>{if(!(typeof window>"u"))try{window.localStorage.setItem(H,JSON.stringify(s))}catch{}},Tt=({children:s})=>{const[a,t]=r.useState(te),[o,n]=r.useState(St),d=a||Et,c=o[d]||[];r.useEffect(()=>{It(o)},[o]),r.useEffect(()=>{const i=()=>{t(te())},f=h=>{if(h.key==="lanchonete_selecionada"&&i(),h.key===H&&h.newValue)try{const v=JSON.parse(h.newValue);typeof v=="object"&&v!==null&&n(v)}catch{}};return window.addEventListener("storage",f),window.addEventListener(ee,i),()=>{window.removeEventListener("storage",f),window.removeEventListener(ee,i)}},[]),r.useEffect(()=>{n(i=>i[d]?i:{...i,[d]:[]})},[d]);const u=async i=>{const{data:f,error:h}=await E.from("produtos").select("estoque").eq("id",i).single();if(h)throw new Error("Erro ao verificar estoque");return Number((f==null?void 0:f.estoque)??0)},m=async i=>{const f=c.find(b=>b.id===i.id),h=((f==null?void 0:f.quantity)||0)+(i.quantity||1),v=await u(i.id);return h>v?{success:!1,availableStock:v}:(n(b=>{const p=b[d]||[],S=p.find(N=>N.id===i.id)?p.map(N=>N.id===i.id?{...N,quantity:N.quantity+(i.quantity||1)}:N):[...p,{...i,quantity:i.quantity||1}];return{...b,[d]:S}}),{success:!0})},y=async(i,f)=>{const h=c.find(p=>p.id===i);if(!h)return{success:!1,availableStock:0};const v=Math.max(1,h.quantity+f),b=await u(i);return v>b?{success:!1,availableStock:b}:(n(p=>{const S=(p[d]||[]).map(N=>N.id===i?{...N,quantity:v}:N);return{...p,[d]:S}}),{success:!0})},g=i=>{n(f=>{const v=(f[d]||[]).filter(b=>b.id!==i);return{...f,[d]:v}})},x=()=>n(i=>({...i,[d]:[]})),j=r.useMemo(()=>({cartItems:c,addItem:m,updateQuantity:y,removeItem:g,clearCart:x,total:c.reduce((i,f)=>i+f.price*f.quantity,0)}),[c]);return e.jsx(_e.Provider,{value:j,children:s})},Ce=()=>{const s=r.useContext(_e);if(!s)throw new Error("useCart must be used within a CartProvider");return s},X=M("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=r.forwardRef(({className:s,variant:a,size:t,asChild:o=!1,...n},d)=>{const c=o?et:"button";return e.jsx(c,{className:l(X({variant:a,size:t,className:s})),ref:d,...n})});T.displayName="Button";const Rt=M("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ot({className:s,variant:a,...t}){return e.jsx("div",{className:l(Rt({variant:a}),s),...t})}const Pt=st,Dt=tt,Ae=r.forwardRef(({className:s,...a},t)=>e.jsx(ce,{className:l("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t}));Ae.displayName=ce.displayName;const Ee=r.forwardRef(({className:s,...a},t)=>e.jsxs(Dt,{children:[e.jsx(Ae,{}),e.jsx(le,{ref:t,className:l("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a})]}));Ee.displayName=le.displayName;const Se=({className:s,...a})=>e.jsx("div",{className:l("flex flex-col space-y-2 text-center sm:text-left",s),...a});Se.displayName="AlertDialogHeader";const Ie=({className:s,...a})=>e.jsx("div",{className:l("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a});Ie.displayName="AlertDialogFooter";const Te=r.forwardRef(({className:s,...a},t)=>e.jsx(ue,{ref:t,className:l("text-lg font-semibold",s),...a}));Te.displayName=ue.displayName;const Re=r.forwardRef(({className:s,...a},t)=>e.jsx(me,{ref:t,className:l("text-sm text-muted-foreground",s),...a}));Re.displayName=me.displayName;const Oe=r.forwardRef(({className:s,...a},t)=>e.jsx(fe,{ref:t,className:l(X(),s),...a}));Oe.displayName=fe.displayName;const Pe=r.forwardRef(({className:s,...a},t)=>e.jsx(pe,{ref:t,className:l(X({variant:"outline"}),"mt-2 sm:mt-0",s),...a}));Pe.displayName=pe.displayName;const kt="/assets/FecomercioSESCSENAC-BINySYBj.png",Lt=()=>{var i;const[s,a]=r.useState(!1),[t,o]=r.useState(!1),{user:n,signOut:d}=z(),{cartItems:c}=Ce(),u=L(),m=c.reduce((f,h)=>f+h.quantity,0),y=(i=n==null?void 0:n.user_metadata)==null?void 0:i.role,g=typeof y=="string"?y.toLowerCase():void 0,x=g!=="admin"&&g!=="admin_master",j=async()=>{await d(),u("/login"),o(!1)};return e.jsx("header",{className:"bg-primary text-primary-foreground sticky top-0 z-50 shadow-md",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(I,{to:"/lanchonete",className:"flex items-center","aria-label":"Página inicial",children:e.jsx("img",{src:kt,alt:"Lanchonete",className:" md:h-16"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[x&&e.jsxs(e.Fragment,{children:[e.jsxs(I,{to:"/carrinho",className:"relative",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:bg-primary-foreground/10",children:e.jsx(Me,{className:"h-5 w-5"})}),m>0&&e.jsx(Ot,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:m})]}),e.jsx(I,{to:"/perfil",children:e.jsx(T,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:bg-primary-foreground/10",children:e.jsx(Fe,{className:"h-5 w-5"})})})]}),e.jsx(T,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:bg-primary-foreground/10",onClick:()=>o(!0),children:e.jsx($e,{className:"h-5 w-5"})}),e.jsx(Pt,{open:t,onOpenChange:o,children:e.jsxs(Ee,{children:[e.jsxs(Se,{children:[e.jsx(Te,{children:"Tem certeza que deseja sair?"}),e.jsx(Re,{children:"Você será desconectado da sua conta e redirecionado para a página de login."})]}),e.jsxs(Ie,{children:[e.jsx(Pe,{children:"Cancelar"}),e.jsx(Oe,{onClick:j,children:"Sair"})]})]})}),e.jsx(T,{variant:"ghost",size:"icon",className:"md:hidden text-primary-foreground hover:bg-primary-foreground/10",onClick:()=>a(!s),children:e.jsx(Be,{className:"h-5 w-5"})})]})]}),s&&e.jsxs("nav",{className:"md:hidden pb-4 space-y-2",children:[e.jsx(I,{to:"/",className:"block py-2 hover:bg-primary-foreground/10 rounded px-2",onClick:()=>a(!1),children:"Cardápio"}),e.jsx(I,{to:"/sobre",className:"block py-2 hover:bg-primary-foreground/10 rounded px-2",onClick:()=>a(!1),children:"Sobre"}),e.jsx(I,{to:"/contato",className:"block py-2 hover:bg-primary-foreground/10 rounded px-2",onClick:()=>a(!1),children:"Contato"})]})]})})},B=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:l("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a}));B.displayName="Card";const J=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:l("flex flex-col space-y-1.5 p-6",s),...a}));J.displayName="CardHeader";const Q=r.forwardRef(({className:s,...a},t)=>e.jsx("h3",{ref:t,className:l("text-2xl font-semibold leading-none tracking-tight",s),...a}));Q.displayName="CardTitle";const zt=r.forwardRef(({className:s,...a},t)=>e.jsx("p",{ref:t,className:l("text-sm text-muted-foreground",s),...a}));zt.displayName="CardDescription";const U=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:l("p-6 pt-0",s),...a}));U.displayName="CardContent";const qt=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:l("flex items-center p-6 pt-0",s),...a}));qt.displayName="CardFooter";const Vt=r.forwardRef(({className:s,type:a,...t},o)=>e.jsx("input",{type:a,className:l("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:o,...t}));Vt.displayName="Input";const Mt=M("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),P=r.forwardRef(({className:s,...a},t)=>e.jsx(xe,{ref:t,className:l(Mt(),s),...a}));P.displayName=xe.displayName;const De=r.forwardRef(({className:s,...a},t)=>e.jsx(ge,{className:l("grid gap-2",s),...a,ref:t}));De.displayName=ge.displayName;const D=r.forwardRef(({className:s,...a},t)=>e.jsx(he,{ref:t,className:l("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(at,{className:"flex items-center justify-center",children:e.jsx(Je,{className:"h-2.5 w-2.5 fill-current text-current"})})}));D.displayName=he.displayName;const Ft=r.forwardRef(({className:s,...a},t)=>e.jsx("textarea",{className:l("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a}));Ft.displayName="Textarea";const $t=()=>{var h,v,b;const s=L(),a=Qe(),{cartItems:t,total:o,clearCart:n}=Ce(),{user:d}=z(),[c,u]=r.useState("pix"),[m,y]=r.useState(""),[g,x]=r.useState(!1),j=((h=a.state)==null?void 0:h.deliveryAddress)||((v=a.state)==null?void 0:v.address)||"Retirada no balcão",i=()=>typeof window>"u"?null:window.localStorage.getItem("lanchonete_selecionada");if(t.length===0&&!((b=a.state)!=null&&b.fromCheckout))return s("/carrinho"),null;const f=async()=>{if(!d){C.error("Faça login para concluir o pedido."),s("/login");return}if(t.length===0){C.error("Seu carrinho está vazio."),s("/carrinho");return}x(!0);try{const p=i(),{data:R,error:S}=await E.from("usuario").select("id").eq("auth_user_id",d.id).maybeSingle();if(S)throw S;const{data:N,error:Y}=await E.from("pedidos").insert({usuario_id:(R==null?void 0:R.id)??null,auth_user_id:d.id,lanchonete_id:p||null,total:o,status:"pending",address:j,payment_method:c,metadata:{notes:m||null,lanchonete_id:p}}).select().single();if(Y)throw Y;const G=t.map(A=>({pedido_id:N.id,product_id:A.id,title:A.name,price:A.price,qty:A.quantity,metadata:{image:A.image}}));if(G.length>0){const{error:A}=await E.from("pedido_items").insert(G);if(A)throw A}n(),C.success("Pedido realizado com sucesso!"),s("/perfil",{state:{orderSuccess:!0}})}catch(p){console.error("Erro ao criar pedido:",p),C.error("Erro ao processar pedido. Tente novamente.")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Lt,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Pagamento"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(B,{children:[e.jsx(J,{children:e.jsx(Q,{children:"Forma de Pagamento"})}),e.jsx(U,{children:e.jsxs(De,{value:c,onValueChange:u,children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg cursor-pointer hover:bg-accent/50 transition-colors",children:[e.jsx(D,{value:"pix",id:"pix"}),e.jsxs(P,{htmlFor:"pix",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx(Ue,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"PIX"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pagamento instantâneo"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg cursor-pointer hover:bg-accent/50 transition-colors mt-3",children:[e.jsx(D,{value:"credit",id:"credit"}),e.jsxs(P,{htmlFor:"credit",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx(K,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Cartão de Crédito"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pague no balcão"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg cursor-pointer hover:bg-accent/50 transition-colors mt-3",children:[e.jsx(D,{value:"debit",id:"debit"}),e.jsxs(P,{htmlFor:"debit",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx(K,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Cartão de Débito"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pague no balcão"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg cursor-pointer hover:bg-accent/50 transition-colors mt-3",children:[e.jsx(D,{value:"cash",id:"cash"}),e.jsxs(P,{htmlFor:"cash",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx(He,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Dinheiro"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pague no balcão"})]})]})]})]})})]})}),e.jsx("div",{children:e.jsxs(B,{className:"sticky top-24",children:[e.jsx(J,{children:e.jsx(Q,{children:"Resumo do Pedido"})}),e.jsxs(U,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:t.map(p=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:p.image,alt:p.name,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:p.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.quantity,"x R$ ",p.price.toFixed(2)]})]}),e.jsxs("p",{className:"font-semibold",children:["R$ ",(p.price*p.quantity).toFixed(2)]})]},p.id))}),e.jsx("div",{className:"border-t pt-4 space-y-2",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-primary",children:["R$ ",o.toFixed(2)]})]})}),e.jsx(T,{className:"w-full",size:"lg",onClick:f,disabled:g,children:g?"Processando...":e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"mr-2 h-5 w-5"}),"Confirmar Pedido"]})})]})]})})]})]})]})},Bt=r.lazy(()=>_(()=>import("./Index-CiC-oYut.js"),__vite__mapDeps([0,1,2,3,4,5]))),Jt=r.lazy(()=>_(()=>import("./Login-DM1ykffw.js"),__vite__mapDeps([6,1,2,7,4,5]))),Qt=r.lazy(()=>_(()=>import("./Cadastro-K9wXTl3s.js"),__vite__mapDeps([8,1,2,7,4,5]))),Ut=r.lazy(()=>_(()=>import("./Carrinho-hx93FrfS.js"),__vite__mapDeps([9,1,2,4,5]))),Ht=r.lazy(()=>_(()=>import("./Perfil-Bp7q9e6M.js"),__vite__mapDeps([10,1,2,3,4,11,5]))),Xt=r.lazy(()=>_(()=>import("./Admin-D7zpIyKR.js"),__vite__mapDeps([12,1,2,3,4,13,11,14,5]))),Yt=r.lazy(()=>_(()=>import("./AdminMaster-NwasILzr.js"),__vite__mapDeps([15,1,2,3,4,13,11,5]))),Gt=r.lazy(()=>_(()=>import("./NotFound-CukU8huB.js"),__vite__mapDeps([16,1,2]))),Kt=r.lazy(()=>_(()=>import("./Lanchonete-VOahB3DW.js"),__vite__mapDeps([17,1,2,7,4,5]))),Zt=r.lazy(()=>_(()=>import("./SelecaoLanchonete-B34B1__K.js"),__vite__mapDeps([18,1,2,7,4,5]))),Wt=new rt,es=()=>e.jsx(ot,{client:Wt,children:e.jsx(Ye,{children:e.jsx(_t,{children:e.jsx(Tt,{children:e.jsxs(jt,{children:[e.jsx(yt,{}),e.jsx(vt,{}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex h-screen items-center justify-center text-lg font-medium",children:"Carregando..."}),children:e.jsxs(Ge,{children:[e.jsx(w,{path:"/",element:e.jsx(Kt,{})}),e.jsx(w,{path:"/inicio",element:e.jsx(O,{children:e.jsx(Zt,{})})}),e.jsx(w,{path:"/login",element:e.jsx(Jt,{})}),e.jsx(w,{path:"/cadastro",element:e.jsx(Qt,{})}),e.jsx(w,{path:"/carrinho",element:e.jsx(O,{children:e.jsx(Ut,{})})}),e.jsx(w,{path:"/pagamento",element:e.jsx(O,{children:e.jsx($t,{})})}),e.jsx(w,{path:"/perfil",element:e.jsx(O,{children:e.jsx(Ht,{})})}),e.jsx(w,{path:"/admin",element:e.jsx(Ct,{children:e.jsx(Xt,{})})}),e.jsx(w,{path:"/admin-master",element:e.jsx(At,{children:e.jsx(Yt,{})})}),e.jsx(w,{path:"/lanchonete",element:e.jsx(O,{children:e.jsx(Bt,{})})}),e.jsx(w,{path:"*",element:e.jsx(Gt,{})})]})})]})})})})});Ke(document.getElementById("root")).render(e.jsx(es,{}));export{T as B,B as C,Lt as H,Vt as I,P as L,Ft as T,U as a,qt as b,J as c,Q as d,zt as e,l as f,Ot as g,E as s,Ce as u};
