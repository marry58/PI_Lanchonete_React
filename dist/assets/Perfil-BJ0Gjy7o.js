import{r as f,ad as e,aN as y,aO as C,aC as l}from"./vendor-C4YCU9L4.js";import{s as i}from"./index-DLOkv6-d.js";import{H as w}from"./Header-2VjGWnYo.js";import{B as E}from"./button-wdJszIiX.js";import{C as d,c as j,d as p,a as c}from"./card-DYq_ZU2g.js";import{I as m}from"./input-DTTsWnCS.js";import{L as x}from"./label-CrBnGp82.js";import{T as P,a as T,b as g,c as N}from"./tabs-Cbmpagbj.js";import"./supabase-i8UOGaJf.js";import"./radix-BdbzPyf5.js";import"./react-query-CMlviXwV.js";const R=()=>{const v=[{id:1,date:"25/11/2025",items:"2 itens",total:51.7,status:"Entregue"},{id:2,date:"20/11/2025",items:"3 itens",total:78.9,status:"Entregue"}],[r,u]=f.useState({nome:"",email:"",telefone:""});f.useEffect(()=>{(async()=>{const{data:a}=await i.auth.getUser();if(!(a!=null&&a.user)){l.error("Usuário não autenticado");return}const t=a.user.id,{data:n,error:h}=await i.from("usuario").select("nome, email, telefone").eq("auth_user_id",t).single();if(h){console.log(h),l.error("Erro ao carregar perfil");return}u({nome:n.nome,email:n.email,telefone:n.telefone})})()},[]);const o=s=>{u(a=>({...a,[s.target.id]:s.target.value}))},b=async()=>{const{data:s}=await i.auth.getUser(),a=s.user.id,{error:t}=await i.from("usuario").update({nome:r.nome,email:r.email,telefone:r.telefone}).eq("auth_user_id",a);if(t){console.log(t),l.error("Erro ao salvar");return}l.success("Informações atualizadas com sucesso!")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(w,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-8",children:["Ola!",e.jsx("br",{}),r.nome]}),e.jsxs(P,{defaultValue:"dados",className:"space-y-6",children:[e.jsxs(T,{className:"grid w-full max-w-md grid-cols-2",children:[e.jsxs(g,{value:"dados",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Dados"]}),e.jsxs(g,{value:"pedidos",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Pedidos"]})]}),e.jsx(N,{value:"dados",children:e.jsxs(d,{children:[e.jsx(j,{children:e.jsx(p,{children:"Informações Pessoais"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"nome",children:"Nome completo"}),e.jsx(m,{id:"nome",value:r.nome,onChange:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",value:r.email,onChange:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"telefone",children:"Telefone"}),e.jsx(m,{id:"telefone",type:"tel",value:r.telefone,onChange:o})]}),e.jsx(E,{onClick:b,children:"Salvar Alterações"})]})]})}),e.jsx(N,{value:"pedidos",children:e.jsxs(d,{children:[e.jsx(j,{children:e.jsx(p,{children:"Histórico de Pedidos"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:v.map(s=>e.jsx(d,{className:"border",children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:["Pedido #",s.id]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.date," • ",s.items]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-primary",children:["R$ ",s.total.toFixed(2)]}),e.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-success/10 text-success text-xs rounded",children:s.status})]})]})})},s.id))})})]})})]})]})]})};export{R as default};
