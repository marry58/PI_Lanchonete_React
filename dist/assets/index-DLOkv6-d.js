const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-Es7mmgEw.js","assets/vendor-C4YCU9L4.js","assets/supabase-i8UOGaJf.js","assets/Header-2VjGWnYo.js","assets/button-wdJszIiX.js","assets/radix-BdbzPyf5.js","assets/card-DYq_ZU2g.js","assets/input-DTTsWnCS.js","assets/tabs-Cbmpagbj.js","assets/react-query-CMlviXwV.js","assets/Login-BTu96e6r.js","assets/label-CrBnGp82.js","assets/logoprincipal-CGgvGNiW.js","assets/Cadastro-evusrNuY.js","assets/Carrinho-C-m0xxOP.js","assets/Perfil-BJ0Gjy7o.js","assets/Admin-CzyzErHI.js","assets/badge-COqF9uzH.js","assets/charts-BaChs1IL.js","assets/AdminMaster-DqjOHPdf.js","assets/NotFound-BsqVP88Q.js","assets/Lanchonete-DVCRK-D_.js","assets/SelecaoLanchonete-CSgR21Oj.js"])))=>i.map(i=>d[i]);
import{r as n,aw as X,h as B,ad as s,ax as Q,ay as Z,az as $,aA as Y,aB as O,aC as y,aD as G,aE as K,aF as p,aG as W}from"./vendor-C4YCU9L4.js";import{V as N,R as P,A as C,C as D,T as L,D as z,P as H,a as M,b as ee}from"./radix-BdbzPyf5.js";import{Q as te,a as oe}from"./react-query-CMlviXwV.js";import{b as se}from"./supabase-i8UOGaJf.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(a){if(a.ep)return;a.ep=!0;const d=e(a);fetch(a.href,d)}})();const re="modulepreload",ae=function(t){return"/"+t},S={},f=function(o,e,r){let a=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(e.map(l=>{if(l=ae(l),l in S)return;S[l]=!0;const g=l.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const u=document.createElement("link");if(u.rel=g?"stylesheet":re,g||(u.as="script"),u.crossOrigin="",u.href=l,c&&u.setAttribute("nonce",c),document.head.appendChild(u),g)return new Promise((x,h)=>{u.addEventListener("load",x),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function d(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return a.then(i=>{for(const c of i||[])c.status==="rejected"&&d(c.reason);return o().catch(d)})},ne=1,ie=1e6;let E=0;function de(){return E=(E+1)%Number.MAX_SAFE_INTEGER,E.toString()}const b=new Map,R=t=>{if(b.has(t))return;const o=setTimeout(()=>{b.delete(t),_({type:"REMOVE_TOAST",toastId:t})},ie);b.set(t,o)},ce=(t,o)=>{switch(o.type){case"ADD_TOAST":return{...t,toasts:[o.toast,...t.toasts].slice(0,ne)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(e=>e.id===o.toast.id?{...e,...o.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=o;return e?R(e):t.toasts.forEach(r=>{R(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===e||e===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return o.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(e=>e.id!==o.toastId)}}},A=[];let T={toasts:[]};function _(t){T=ce(T,t),A.forEach(o=>{o(T)})}function le({...t}){const o=de(),e=a=>_({type:"UPDATE_TOAST",toast:{...a,id:o}}),r=()=>_({type:"DISMISS_TOAST",toastId:o});return _({type:"ADD_TOAST",toast:{...t,id:o,open:!0,onOpenChange:a=>{a||r()}}}),{id:o,dismiss:r,update:e}}function ue(){const[t,o]=n.useState(T);return n.useEffect(()=>(A.push(o),()=>{const e=A.indexOf(o);e>-1&&A.splice(e,1)}),[t]),{...t,toast:le,dismiss:e=>_({type:"DISMISS_TOAST",toastId:e})}}function v(...t){return X(B(t))}const me=H,V=n.forwardRef(({className:t,...o},e)=>s.jsx(N,{ref:e,className:v("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...o}));V.displayName=N.displayName;const pe=Z("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),k=n.forwardRef(({className:t,variant:o,...e},r)=>s.jsx(P,{ref:r,className:v(pe({variant:o}),t),...e}));k.displayName=P.displayName;const fe=n.forwardRef(({className:t,...o},e)=>s.jsx(C,{ref:e,className:v("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...o}));fe.displayName=C.displayName;const q=n.forwardRef(({className:t,...o},e)=>s.jsx(D,{ref:e,className:v("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...o,children:s.jsx(Q,{className:"h-4 w-4"})}));q.displayName=D.displayName;const F=n.forwardRef(({className:t,...o},e)=>s.jsx(L,{ref:e,className:v("text-sm font-semibold",t),...o}));F.displayName=L.displayName;const U=n.forwardRef(({className:t,...o},e)=>s.jsx(z,{ref:e,className:v("text-sm opacity-90",t),...o}));U.displayName=z.displayName;function ge(){const{toasts:t}=ue();return s.jsxs(me,{children:[t.map(function({id:o,title:e,description:r,action:a,...d}){return s.jsxs(k,{...d,children:[s.jsxs("div",{className:"grid gap-1",children:[e&&s.jsx(F,{children:e}),r&&s.jsx(U,{children:r})]}),a,s.jsx(q,{})]},o)}),s.jsx(V,{})]})}const xe=({...t})=>{const{theme:o="system"}=$();return s.jsx(Y,{theme:o,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},he=ee,ve=n.forwardRef(({className:t,sideOffset:o=4,...e},r)=>s.jsx(M,{ref:r,sideOffset:o,className:v("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ve.displayName=M.displayName;const _e="https://jjcbtuoikfhxnkitnmtm.supabase.co",ye="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqY2J0dW9pa2ZoeG5raXRubXRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNTI4MzAsImV4cCI6MjA3ODkyODgzMH0.iD_A5ACxlXCRM42pvZENoKwkUQwQZbTYkPvM8qwn8e4",w=se(_e,ye),J=n.createContext(void 0);function je({children:t}){const[o,e]=n.useState(null),[r,a]=n.useState(!0);n.useEffect(()=>{let i=!0;(async()=>{var m;const{data:g}=await w.auth.getSession();i&&(e(((m=g.session)==null?void 0:m.user)||null),a(!1))})();const{data:l}=w.auth.onAuthStateChange((g,m)=>{e((m==null?void 0:m.user)||null)});return()=>{i=!1,l.subscription.unsubscribe()}},[]);const d=async()=>{await w.auth.signOut(),e(null)};return s.jsx(J.Provider,{value:{user:o,loading:r,signOut:d},children:t})}function I(){const t=n.useContext(J);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const j=({children:t})=>{const o=O(),{user:e,loading:r}=I();return n.useEffect(()=>{!r&&!e&&(y.error("Faça login para continuar."),o("/login"))},[e,r,o]),r||!e?null:t},Ae=({children:t})=>{var i,c,l;const o=O(),{user:e,loading:r}=I();return n.useEffect(()=>{var u,x,h;if(r)return;if(!e){y.error("Faça login para continuar."),o("/login");return}(((u=e==null?void 0:e.app_metadata)==null?void 0:u.roles)||[]).includes("admin")||((x=e==null?void 0:e.user_metadata)==null?void 0:x.role)==="admin"||((h=e==null?void 0:e.app_metadata)==null?void 0:h.role)==="admin"||(y.error("Acesso restrito ao administrador."),o("/"))},[e,r,o]),r||!((((i=e==null?void 0:e.app_metadata)==null?void 0:i.roles)||[]).includes("admin")||((c=e==null?void 0:e.user_metadata)==null?void 0:c.role)==="admin"||((l=e==null?void 0:e.app_metadata)==null?void 0:l.role)==="admin")?null:t},Te=({children:t})=>{var i,c,l;const o=O(),{user:e,loading:r}=I();return n.useEffect(()=>{var u,x,h;if(r)return;if(!e){y.error("Faça login para continuar."),o("/login");return}(((u=e==null?void 0:e.app_metadata)==null?void 0:u.roles)||[]).includes("master_admin")||((x=e==null?void 0:e.user_metadata)==null?void 0:x.role)==="master_admin"||((h=e==null?void 0:e.app_metadata)==null?void 0:h.role)==="master_admin"||(y.error("Acesso restrito ao administrador master."),o("/"))},[e,r,o]),r||!((((i=e==null?void 0:e.app_metadata)==null?void 0:i.roles)||[]).includes("master_admin")||((c=e==null?void 0:e.user_metadata)==null?void 0:c.role)==="master_admin"||((l=e==null?void 0:e.app_metadata)==null?void 0:l.role)==="master_admin")?null:t},Ee=n.lazy(()=>f(()=>import("./Index-Es7mmgEw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),be=n.lazy(()=>f(()=>import("./Login-BTu96e6r.js"),__vite__mapDeps([10,1,2,4,5,7,11,6,12,9]))),we=n.lazy(()=>f(()=>import("./Cadastro-evusrNuY.js"),__vite__mapDeps([13,1,2,4,5,7,11,6,12,9]))),Oe=n.lazy(()=>f(()=>import("./Carrinho-C-m0xxOP.js"),__vite__mapDeps([14,1,2,3,4,5,6,9]))),Ie=n.lazy(()=>f(()=>import("./Perfil-BJ0Gjy7o.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,11,8,9]))),Se=n.lazy(()=>f(()=>import("./Admin-CzyzErHI.js"),__vite__mapDeps([16,1,2,3,4,5,6,8,7,11,17,18,9]))),Re=n.lazy(()=>f(()=>import("./AdminMaster-DqjOHPdf.js"),__vite__mapDeps([19,1,2,3,4,5,6,8,7,11,17,9]))),Ne=n.lazy(()=>f(()=>import("./NotFound-BsqVP88Q.js"),__vite__mapDeps([20,1,2]))),Pe=n.lazy(()=>f(()=>import("./Lanchonete-DVCRK-D_.js"),__vite__mapDeps([21,1,2,4,5,12,9]))),Ce=n.lazy(()=>f(()=>import("./SelecaoLanchonete-CSgR21Oj.js"),__vite__mapDeps([22,1,2,4,5,6,12,9]))),De=new te,Le=()=>s.jsx(oe,{client:De,children:s.jsx(G,{children:s.jsx(je,{children:s.jsxs(he,{children:[s.jsx(ge,{}),s.jsx(xe,{}),s.jsx(n.Suspense,{fallback:s.jsx("div",{className:"flex h-screen items-center justify-center text-lg font-medium",children:"Carregando..."}),children:s.jsxs(K,{children:[s.jsx(p,{path:"/",element:s.jsx(Pe,{})}),s.jsx(p,{path:"/inicio",element:s.jsx(j,{children:s.jsx(Ce,{})})}),s.jsx(p,{path:"/login",element:s.jsx(be,{})}),s.jsx(p,{path:"/cadastro",element:s.jsx(we,{})}),s.jsx(p,{path:"/carrinho",element:s.jsx(j,{children:s.jsx(Oe,{})})}),s.jsx(p,{path:"/perfil",element:s.jsx(j,{children:s.jsx(Ie,{})})}),s.jsx(p,{path:"/admin",element:s.jsx(Ae,{children:s.jsx(Se,{})})}),s.jsx(p,{path:"/admin-master",element:s.jsx(Te,{children:s.jsx(Re,{})})}),s.jsx(p,{path:"/lanchonete",element:s.jsx(j,{children:s.jsx(Ee,{})})}),s.jsx(p,{path:"*",element:s.jsx(Ne,{})})]})})]})})})});W(document.getElementById("root")).render(s.jsx(Le,{}));export{v as c,w as s,I as u};
